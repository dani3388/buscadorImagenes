{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\valenciad\\\\Downloads\\\\react_pixabay-master\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"C:\\\\Users\\\\valenciad\\\\Downloads\\\\react_pixabay-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Formulario from'./components/Formulario';import ListadoImagenes from'./components/ListadoImagenes';function App(){// state de la app\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),busqueda=_useState2[0],guardarBusqueda=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imagenes=_useState4[0],guardarImagenes=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),paginaactual=_useState6[0],guardarPaginaActual=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,2),totalpaginas=_useState8[0],guardarTotalPaginas=_useState8[1];useEffect(function(){var consultarApi=function consultarApi(){var imagenesPorPagina,key,url,respuesta,resultado,calcularTotalPaginas,jumbotron;return _regeneratorRuntime.async(function consultarApi$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(busqueda==='')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:imagenesPorPagina=30;key='19540866-a31b2e17f4fdbe6885cb27287';url=\"https://pixabay.com/api/?key=\".concat(key,\"&q=\").concat(busqueda,\"&per_page=\").concat(imagenesPorPagina,\"&page=\").concat(paginaactual);_context.next=7;return _regeneratorRuntime.awrap(fetch(url));case 7:respuesta=_context.sent;_context.next=10;return _regeneratorRuntime.awrap(respuesta.json());case 10:resultado=_context.sent;guardarImagenes(resultado.hits);// calcular el total de paginas\ncalcularTotalPaginas=Math.ceil(resultado.totalHits/imagenesPorPagina);guardarTotalPaginas(calcularTotalPaginas);// Mover la pantalla hacia arriba\njumbotron=document.querySelector('.jumbotron');jumbotron.scrollIntoView({behavior:'smooth'});case 16:case\"end\":return _context.stop();}}});};consultarApi();},[busqueda,paginaactual]);// definir la página anterior\nvar paginaAnterior=function paginaAnterior(){var nuevaPaginaActual=paginaactual-1;if(nuevaPaginaActual===0)return;guardarPaginaActual(nuevaPaginaActual);};// definir la pagina siguiente\nvar paginaSiguiente=function paginaSiguiente(){var nuevaPaginaActual=paginaactual+1;if(nuevaPaginaActual>totalpaginas)return;guardarPaginaActual(nuevaPaginaActual);};return React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"jumbotron\"},React.createElement(\"p\",{className:\"lead text-center\"},\"Buscador de Im\\xE1genes\"),React.createElement(Formulario,{guardarBusqueda:guardarBusqueda})),React.createElement(\"div\",{className:\"row justify-content-center\"},React.createElement(ListadoImagenes,{imagenes:imagenes}),paginaactual===1?null:React.createElement(\"button\",{type:\"button\",className:\"bbtn btn-info mr-1\",onClick:paginaAnterior},\"\\xAB Anterior \"),paginaactual===totalpaginas?null:React.createElement(\"button\",{type:\"button\",className:\"bbtn btn-info\",onClick:paginaSiguiente},\"Siguiente \\xBB\")));}export default App;","map":{"version":3,"sources":["C:/Users/valenciad/Downloads/react_pixabay-master/src/App.js"],"names":["React","useState","useEffect","Formulario","ListadoImagenes","App","busqueda","guardarBusqueda","imagenes","guardarImagenes","paginaactual","guardarPaginaActual","totalpaginas","guardarTotalPaginas","consultarApi","imagenesPorPagina","key","url","fetch","respuesta","json","resultado","hits","calcularTotalPaginas","Math","ceil","totalHits","jumbotron","document","querySelector","scrollIntoView","behavior","paginaAnterior","nuevaPaginaActual","paginaSiguiente"],"mappings":"6QAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CAEA,QAASC,CAAAA,GAAT,EAAe,CAEb;AAFa,cAGyBJ,QAAQ,CAAC,EAAD,CAHjC,wCAGLK,QAHK,eAGKC,eAHL,8BAIwBN,QAAQ,CAAC,EAAD,CAJhC,yCAILO,QAJK,eAIKC,eAJL,8BAKiCR,QAAQ,CAAC,CAAD,CALzC,yCAKLS,YALK,eAKSC,mBALT,8BAMgCV,QAAQ,CAAC,CAAD,CANxC,yCAMLW,YANK,eAMSC,mBANT,eAQbX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,+MACdR,QAAQ,GAAK,EADC,kEAGXS,iBAHW,CAGS,EAHT,CAIXC,GAJW,CAIL,oCAJK,CAKXC,GALW,wCAK2BD,GAL3B,eAKoCV,QALpC,sBAKyDS,iBALzD,kBAKmFL,YALnF,mDAOOQ,KAAK,CAACD,GAAD,CAPZ,SAOXE,SAPW,iEAQOA,SAAS,CAACC,IAAV,EARP,UAQXC,SARW,eAUjBZ,eAAe,CAACY,SAAS,CAACC,IAAX,CAAf,CAEA;AACMC,oBAbW,CAaYC,IAAI,CAACC,IAAL,CAAUJ,SAAS,CAACK,SAAV,CAAsBX,iBAAhC,CAbZ,CAcjBF,mBAAmB,CAACU,oBAAD,CAAnB,CAEA;AACMI,SAjBW,CAiBCC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAjBD,CAkBjBF,SAAS,CAACG,cAAV,CAAyB,CAAEC,QAAQ,CAAE,QAAZ,CAAzB,EAlBiB,+CAArB,CAoBAjB,YAAY,GACb,CAtBQ,CAsBN,CAACR,QAAD,CAAWI,YAAX,CAtBM,CAAT,CAwBA;AACA,GAAMsB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,iBAAiB,CAAGvB,YAAY,CAAG,CAAzC,CAEA,GAAGuB,iBAAiB,GAAK,CAAzB,CAA6B,OAE7BtB,mBAAmB,CAACsB,iBAAD,CAAnB,CACD,CAND,CAQA;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAMD,CAAAA,iBAAiB,CAAGvB,YAAY,CAAG,CAAzC,CAEA,GAAGuB,iBAAiB,CAAGrB,YAAvB,CAAsC,OAEtCD,mBAAmB,CAACsB,iBAAD,CAAnB,CACD,CAND,CAQA,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,2BAAK,SAAS,CAAC,WAAf,EACI,yBAAG,SAAS,CAAC,kBAAb,4BADJ,CAGI,oBAAC,UAAD,EACE,eAAe,CAAE1B,eADnB,EAHJ,CADF,CASE,2BAAK,SAAS,CAAC,4BAAf,EACI,oBAAC,eAAD,EACE,QAAQ,CAAEC,QADZ,EADJ,CAKOE,YAAY,GAAK,CAAlB,CAAuB,IAAvB,CACA,8BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,oBAFd,CAGI,OAAO,CAAEsB,cAHb,mBANN,CAaOtB,YAAY,GAAKE,YAAlB,CAAkC,IAAlC,CACA,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAEsB,eAHX,mBAdN,CATF,CADF,CAiCD,CAED,cAAe7B,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Formulario from './components/Formulario';\nimport ListadoImagenes from './components/ListadoImagenes';\n\nfunction App() {\n\n  // state de la app\n  const [ busqueda, guardarBusqueda ] = useState('');\n  const [ imagenes, guardarImagenes] = useState([]);\n  const [ paginaactual, guardarPaginaActual ] = useState(1);\n  const [ totalpaginas, guardarTotalPaginas] = useState(5);\n\n  useEffect(() => {\n    const consultarApi = async () => {\n        if(busqueda === '' ) return;\n\n        const imagenesPorPagina = 30;\n        const key = '19540866-a31b2e17f4fdbe6885cb27287';\n        const url = `https://pixabay.com/api/?key=${key}&q=${busqueda}&per_page=${imagenesPorPagina}&page=${paginaactual}`;\n    \n        const respuesta = await fetch(url);\n        const resultado = await respuesta.json();\n\n        guardarImagenes(resultado.hits);\n\n        // calcular el total de paginas\n        const calcularTotalPaginas = Math.ceil(resultado.totalHits / imagenesPorPagina );\n        guardarTotalPaginas(calcularTotalPaginas);\n\n        // Mover la pantalla hacia arriba\n        const jumbotron = document.querySelector('.jumbotron');\n        jumbotron.scrollIntoView({ behavior: 'smooth' })\n    }\n    consultarApi();\n  }, [busqueda, paginaactual])\n\n  // definir la página anterior\n  const paginaAnterior = () => {\n    const nuevaPaginaActual = paginaactual - 1;\n\n    if(nuevaPaginaActual === 0 ) return;\n\n    guardarPaginaActual(nuevaPaginaActual);\n  }\n\n  // definir la pagina siguiente\n  const paginaSiguiente = () => {\n    const nuevaPaginaActual = paginaactual + 1;\n\n    if(nuevaPaginaActual > totalpaginas ) return;\n\n    guardarPaginaActual(nuevaPaginaActual);\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron\">\n          <p className=\"lead text-center\">Buscador de Imágenes</p>\n\n          <Formulario \n            guardarBusqueda={guardarBusqueda}\n          />\n      </div>\n\n      <div className=\"row justify-content-center\">\n          <ListadoImagenes \n            imagenes={imagenes}\n          />\n\n          { (paginaactual === 1) ? null : (\n            <button \n                type=\"button\"\n                className=\"bbtn btn-info mr-1\"\n                onClick={paginaAnterior}\n            >&laquo; Anterior </button>\n          ) }\n\n          { (paginaactual === totalpaginas) ? null : (\n            <button \n              type=\"button\"\n              className=\"bbtn btn-info\"\n              onClick={paginaSiguiente}\n            >Siguiente &raquo;</button>\n          ) }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}